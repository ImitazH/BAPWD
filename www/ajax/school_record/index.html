<!-- Database username for this project: ajax. Password: 123 -->
<!-- I can control any database by the user I created. With one user I can control one database or any databse.  -->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title> School Record with Bootstrap and Ajax</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="style.css">
	
	<style>
		
		.btn,.form-control{
			border-radius: 0;
		}
	</style>
</head>
<body onload="ajax_request()">
	
	
	<div class="container">
		<div class="jumbotron">
			<h1> School record </h1>
		</div>
		
		<form action="#" class="form-horizontal">
			<div class="form-group">
				<label class="control-label col-md-2"> Stdent Name</label>
				<div class="col-md-8">
					<input type="text" id="student_name" class="form-control">
				</div>
			</div>
			
			<div class="form-group">
			
				<label class="control-label col-md-2"> Stdent Subject</label>
				<div class="col-md-3">
					
					<select name="" id="student_subject" class="form-control">
						<option value="">Select any Subject</option>
						<option value="psychology">Psychology</option>
						<option value="computer">Computer</option>
						<option value="biology">Biology</option>
						<option value="mechanical">Mechanical</option>
						
					</select>
				</div>
				
				<label class="control-label col-md-2"> Stdent Fee</label>
				<div class="col-md-3">
					<input type="number" id="student_fee" class="form-control">
				</div>
				
			</div>
			
			<div class="form-group">
				<div class="col-md-8 col-md-offset-2">
					<button class="btn btn-danger btn-block" onclick="ajax_request('add_new_record');"> Add New Record</button>
				</div>
				
			</div>
		</form>
		
		
		
		<table class="table table-striped">
			<thead>
				<tr class="success">
					<th>Serial No</th>
					<th> Students Name</th>
					<th>Student Subject</th>
					<th>Student Fee</th>
					<th>Actions </th>
				</tr>
			</thead>
			<tbody id="test">
				
			</tbody>
			
			
		</table>
		
		
	</div>
	
	
	
	<script src="js/jquery-1.11.3.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script>

		function ajax_request(req,id){
			
			if(req == undefined){
				req = '';
				id ='';
			}
			else if(req == 'add_new_record'){
				id ='';
			}

			var student_name=document.getElementById("student_name").value;
//			if(student_name != '') {
//				alert(student_name);
//			}
			
			if(student_name == '') {
				student_name = '';
			}
			
			
			var student_subject=document.getElementById("student_subject").value;
//			if(student_subject != '') {
//				alert(student_subject);
//			}
			
			if(student_subject == '') {
				student_subject = '';
			}
		
			var student_fee=document.getElementById("student_fee").value;
//			if(student_fee != '') {
//				alert(student_fee);
//			}
			if(student_fee == '') {
				student_fee = '';
			}
			
			
			var xmlhttp =new XMLHttpRequest();

			xmlhttp.onreadystatechange = function(){
				if(xmlhttp.readyState == 4 && xmlhttp.status == 200){
					var test_div = document.getElementById("test");
					test_div.innerHTML = xmlhttp.responseText;
				}

			}
//			xmlhttp.open('GET','data.php',true);
			xmlhttp.open('GET','data.php?id='+id+'&req='+req+'&stu_name='+student_name+'&stu_subject='+student_subject+'&stu_fee='+student_fee,true);
			xmlhttp.send();

		}

	</script>
	
</body>
</html>